// This import applies a global reset to any page that imports this stylesheet.
@import blueprint/reset

// To configure blueprint, edit the partials/base.sass file.
@import partials/base

// Import all the default blueprint modules so that we can access their mixins.
@import blueprint

// Import the non-default scaffolding module.
@import blueprint/scaffolding

@import compass/css3

// CSS3 border radius
@import compass/css3/border-radius

// CSS3 image background
@import compass/css3/images

// To generate css equivalent to the blueprint css but with your
// configuration applied, uncomment:
// @include blueprint

// If you are doing a lot of stylesheet concatenation, it is suggested
// that you scope your blueprint styles, so that you can better control
// what pages use blueprint when stylesheets are concatenated together.

$font-color: #281e17
$link-color: lighten($font-color, 35%)
$link-hover-color: darken($link-color, 25%)
$link-active-color: lighten(adjust-hue($link-color, 75deg), 10%)
$link-visited-color: darken($link-color, 20%)

$blueprint-font-size: 14px
$header-color: $font-color

$body-bg: #eee

body.bp
  @include blueprint-typography(true)
  @include blueprint-utilities
  @include blueprint-debug
  @include blueprint-interaction

  @include blueprint-scaffolding
  // Remove the scaffolding when you're ready to start doing visual design.
  // Or leave it in if you're happy with how blueprint looks out-of-the-box

  overflow-y: scroll

  width: 100%
  min-height: 100%

  background-color: $body-bg

  a
    text-decoration: none
    border-bottom: 1px dotted $link-color

    &:hover
      border-bottom: none

html, body
  height: 100%

$sidebar-width: 150px
$container-width: 850px
$sidebar-bg: desaturate($font-color, 20%)

.page-container
  min-height: 100%

$left-pct: 30%

.page-sidebar-container
  z-index: 9000

  background-color: $sidebar-bg
  position: fixed

  width: $left-pct
  height: 100%

.page-content-container
  margin-left: $left-pct
  width: 100% - $left-pct

body.bp .page-sidebar
  font-family: Questrial, "Helvetica Neue", Arial, Helvetica, sans-serif

  float: right
  width: $sidebar-width
  height: 100%

  $zero-wind-bg: lighten($sidebar-bg, 30%)

  h1
    margin: 20px 15px 10px 0
    font-family: "Sansita One", "Helvetica Neue", Arial, Helvetica, sans-serif

    color: lighten($zero-wind-bg, 10%)
    border: none
    font-size: 48px
    line-height: 42px
    +text-shadow(darken($sidebar-bg, 10%) 2px 2px 1px)
    text-align: right
    text-decoration: none

    &:hover
      color: lighten($zero-wind-bg, 20%)

  h2.my-name
    border: none
    font-size: 22px
    text-align: center
    color: $zero-wind-bg
    +text-shadow(lighten($sidebar-bg, 10%) 0 1px 2px, darken($sidebar-bg, 5%) 0 -1px 2px)

  .my-picture
    background: url(/images/me.png)
    width: 130px
    height: 130px
    border-radius: 10px
    background-repeat: none
    margin: 0 auto

  .short-bio
    color: $zero-wind-bg
    font-style: italic
    font-size: 12px
    padding: 0 15px
    margin: 0 0 5px 0
    text-align: justify

    p
      text-indent: 2em
      margin: 0

  .page-nav
    +text-shadow(lighten($sidebar-bg, 10%) 0 1px 1px, darken($sidebar-bg, 5%) 0 -1px 1px)

    $link-color: $zero-wind-bg

    a
      color: $link-color
      border: none

      &:visited
        color: $link-color

      &:hover
        color: lighten($link-color, 25%)

    ul
      margin: 0
      padding: 0 15px

    li
      list-style: none
      font-size: 16px
      text-align: right
      line-height: 30px

    li + li
      border-top: 1px solid lighten($sidebar-bg, 10%)

$padding: 15px
$content-width: $container-width - $sidebar-width - 2*$padding

body.bp .post-list
  ul.post-list-ul
    max-width: $content-width
    margin: 0 0 1.5em 0
    padding: 0

  li + li
    border-top: 1px solid darken($body-bg, 15%)

  li
    clear: both
    list-style: none
    font-size: 14px

    $date-width: 150px
    $line-height: 30px

    a
      width: $content-width - $date-width
      line-height: $line-height
      border: none

    span.date
      color: lighten($link-color, 20%)
      font-style: italic
      line-height: $line-height
      width: $date-width
      float: right
      text-align: right

body.bp .page-content
  padding: $padding

  min-height: 100%
  max-width: $content-width

  font-size: 16px

  h1.page-title
    margin-bottom: 0

  .post-date
    font-style: italic
    text-align: left
    color: mix($font-color, $body-bg, 50%)
    font-size: 80%
    margin-bottom: 10px

  h1, h2, h3
    font-family: Questrial, "Helvetica Neue", Arial, Helvetica, sans-serif
    color: $font-color
    +text-shadow(darken($body-bg, 45%) 0 -1px 1px, lighten($body-bg, 45%) 0 1px 1px)

  h1
    font-size: 175%
    line-height: 175%
    border-bottom: 4px solid darken($body-bg, 50%)

  h2
    font-size: 140%
    line-height: 140%
    border-bottom: 1px solid darken($body-bg, 35%)

  h3
    font-size: 110%
    line-height: 110%

  code
    font-size: 90%
    color: lighten($font-color, 10%)

  pre code, .highlight
    padding: 10px
    display: block
    border: 0px solid #888
    background: darken($sidebar-bg, 10%)
    font-size: 12px
    +border-radius(10px)
    overflow-y: hidden
    overflow-x: auto
    color: #839496
    margin: 1.5em 0

  .highlight pre
    margin: 0

.post
  .table-of-contents
    ul
      list-style: none

  img
    -webkit-background-clip: padding-box
    +border-radius(10px)
    margin: 0 auto
    display: block
    +single-box-shadow(darken($body-bg, 50%), 0, 0, 0, 1px)

  iframe
    margin: 0 auto
    display: block

.solicitation
  font-style: italic
  margin: 25px 0
  padding-top: 20px
  border-top: 1px solid darken($body-bg, 35%)

img.inline
  float: left
  margin-right: 10px
  display: inline

// TODO: Change to some reasonable max-width
@media screen and (max-device-width: 800px), screen and (max-width: 800px)
  body.bp .page-sidebar-container
    position: static
    height: 75px
    width: 100%

    .page-sidebar
      height: auto
      width: 100%
      float: none

      h1
        float: left
        text-align: left
        margin-left: 15px

      h2.my-name
        float: left
        margin-top: 32px

    // TODO: Incorporate nav somehow?
    .short-bio, .page-nav, .my-picture
      display: none

  body.bp .page-content-container
    margin-left: 0%
    width: 100%

    .page-content
      max-width: 100%

  body.bp .post-list
    ul.post-list-ul
      max-width: 100%
