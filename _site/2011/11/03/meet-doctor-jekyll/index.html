<!DOCTYPE html>
<html>
  <head>
    <title>Meet Doctor Jekyll - Zero Wind :: Jamie Wong</title>
    
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

    <link href='http://fonts.googleapis.com/css?family=Questrial|Sansita+One' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" media="screen" href="/stylesheets/screen.css" type="text/css" />
    <link rel="stylesheet" media="screen" href="/stylesheets/pygments.css" type="text/css" />
  </head>

  <body class="bp" onload="prettyPrint()">
    <div class="page-container">
      <div class="page-sidebar-container">
        <div class="page-sidebar">

          <a href="/"><h1 class="site-title">
            Zer√∏ Wind
          </h1></a>

          <h2 class='my-name'>Jamie Wong</h2>

          <div class='short-bio'>
            <p>
              I'm a uWaterloo Software Engineering student from Ottawa.
              I'm currently an intern at Facebook.
            </p>
          </div>

          <div class="page-nav">
            <ul>
              <li><a href="/">blog</a></li>
              <li><a href="/resume/">resume</a></li>
              <li><a href="https://github.com/phleet">github</a></li>
              <li><a href="http://www.linkedin.com/profile/view?id=71283243">linkedin</a></li>
              <li><a href="http://stackoverflow.com/users/303911/jamie-wong">stack overflow</a></li>
            </ul>
          </div>
        </div>
      </div>

      <div class="page-content-container">
        <div class="page-content">
          
            <h1 class='page-title'>Meet Doctor Jekyll</h1>
          

          
<div class="post-date">
  Posted on November  3, 2011
</div>


<div class="post">
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<p>My wordpress blog has lasted longer than any site I've used before, but I
finally got sick of it and switched. So now I'm on <a href="https://github.com/mojombo/jekyll">Jekyll</a>.</p>

<p>Wordpress is an incredible blogging-platform-turned-CMS that provides many
things I wouldn't want to do myself. It's been an incredible SEO asset and
worked beautifully on shared hosting. I would still recommend it to anyone who
wants to write a blog and doesn't want to spend much time customizing or setting
things up. There are plenty of nice looking pre-made themes and plugins to do
pretty much anything you want.</p>

<h2>Wordpress to Jekyll - Why I switched</h2>

<p><a href="https://github.com/mojombo/jekyll">Jekyll</a> is "a blog-aware static site generator in Ruby". Basically what this
means is that all the pages you see on this blog are generated once - not
generated on demand every time they're requested. There's no DB backend, no
scripting language running on the server side. These are just plain HTML pages.</p>

<p>I started off with a template I got off here:
<a href="https://github.com/krisb/jekyll-template">github.com/krisb/jekyll-template</a>. But if you're planning on starting a blog
similar to mine, don't start from scratch like I did - go check out
<a href="http://octopress.org/">Octopress</a>. It provides a lot of niceties for blogging hackers that Jekyll
doesn't out of the box.</p>

<p>So why did I switch?</p>

<h3>Styling</h3>

<p>While Wordpress is completely skinnable - it's a pain in the ass. I really just
wanted to start from scratch and only build the things I absolutely needed.
There is one unifying layout and only 2 types of page on this site: the posts
list and posts. It means I can set my own structure for everything and keep it
much, much simpler than it would have been on Wordpress.</p>

<h3>Workflow</h3>

<p>I love vim. I feel like I'm dragging a huge weight when I need to edit text -
especially code - without vim. Since Jekyll just generates my site from code, it
means I can edit everything including this post in vim. All I do is spawn up a
local Jekyll server (WEBrick) and there's my preview. Once I'm done, all I have
to do is commit the changes to git, and then I pull down the changes on my
server - which is now hosted on EC2, with help from <a href="http://twitter.com/#!/amtinits">Andrew Tinits</a>.</p>

<h3>Novelty</h3>

<p>I'll be honest here - I feel cooler running Jekyll than Wordpress. And having
the source for my blog on github just feels right. Seriously:
<a href="https://github.com/phleet/blog">github.com/phleet/blog</a>.</p>

<p>Plus there's nothing better to motivate you to write a blog post than redoing
your entire blog. I promise I won't be another person who just writes a blog so
they can write about how they set up their blog and then never write again (you
know who you are.)</p>

<h2>The Tech</h2>

<p>Here's the part where I justify you spending the time reading this post by
rambling about technology you might be interested in.</p>

<h3>Markdown</h3>

<p><a href="http://daringfireball.net/projects/markdown/">Markdown</a> is a content writing language for the web which compiles
(primarily) down to HTML. The idea is that it enables you to write documents
that are still readable in plaintext, but compile to useful HTML. This means
having a nice syntax for headers, emphasis, links, images, lists and a couple of
other things. It's definitely much nicer than raw HTML for writing up blog
posts.</p>

<p>As a quick example, it takes this:</p>

<pre><code>### Markdown

Markdown was written by John Gruber of [Daring Fireball][].

As a quick example, it takes this:

    Hello World
    -----------

    I am pretty awesome

and produces this:

    &lt;h2&gt;Hello World&lt;/h2&gt;

    &lt;p&gt;I am pretty awesome&lt;/p&gt;

[Daring Fireball]: http://daringfireball.net/
</code></pre>

<p>and produces this:</p>

<div class="highlight">
<pre><span class="nt">&lt;h3&gt;</span>Markdown<span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>Markdown was written by John Gruber of <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://daringfireball.net/"</span><span class="nt">&gt;</span>Daring Fireball<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;p&gt;</span>As a quick example, it takes this:<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;pre&gt;&lt;code&gt;</span>Hello World
-----------

I am pretty awesome
<span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>

<span class="nt">&lt;p&gt;</span>and produces this:<span class="nt">&lt;/p&gt;</span>

<span class="nt">&lt;pre&gt;&lt;code&gt;</span><span class="ni">&amp;lt;</span>h2<span class="ni">&amp;gt;</span>Hello World<span class="ni">&amp;lt;</span>/h2<span class="ni">&amp;gt;</span>

<span class="ni">&amp;lt;</span>p<span class="ni">&amp;gt;</span>I am pretty awesome<span class="ni">&amp;lt;</span>/p<span class="ni">&amp;gt;</span>
<span class="nt">&lt;/code&gt;&lt;/pre&gt;</span>
</pre>
</div>


<h3>Sass</h3>

<p><a href="http://sass-lang.com/">Sass</a> is awesome syntactic sugar for CSS. It deals with a bunch of things
that are simply a giant pain in vanilla CSS. One of my favorite things it does
is deal with nesting for you.</p>

<div class="highlight">
<pre><span class="nc">.container</span>
  <span class="nt">h1</span>
    <span class="na">font-size</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span>
  <span class="nt">h2</span>
    <span class="na">font-size</span><span class="o">:</span> <span class="mi">18</span><span class="kt">px</span>

    <span class="k">&amp;</span><span class="nd">:hover</span>
      <span class="na">text-decoration</span><span class="o">:</span> <span class="no">underline</span>
</pre>
</div>


<p>Turns into:</p>

<div class="highlight">
<pre><span class="nc">.container</span> <span class="nt">h1</span> <span class="p">{</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span> <span class="p">}</span>
<span class="nc">.container</span> <span class="nt">h2</span> <span class="p">{</span>
  <span class="k">font-size</span><span class="o">:</span> <span class="m">18px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.container</span> <span class="nt">h2</span><span class="nd">:hover</span> <span class="p">{</span>
    <span class="k">text-decoration</span><span class="o">:</span> <span class="k">underline</span><span class="p">;</span> <span class="p">}</span>
</pre>
</div>


<p>Since it runs through a compiler before producing CSS, it lets you do some very
useful things before producing the raw CSS. One of the most valuable things for
me while working on this site was variables. It means you can do things like
this:</p>

<div class="highlight">
<pre><span class="na">$base-color</span><span class="o">:</span> <span class="mh">#281e17</span>
<span class="na">$content-width</span><span class="o">:</span> <span class="mi">500</span><span class="kt">px</span>
<span class="na">$sidebar-width</span><span class="o">:</span> <span class="mi">150</span><span class="kt">px</span>

<span class="nc">.container</span>
  <span class="na">background-color</span><span class="o">:</span> <span class="nf">lighten</span><span class="p">(</span><span class="nv">$base-color</span><span class="o">,</span> <span class="mi">50</span><span class="kt">%</span><span class="p">)</span>
  <span class="nv">$padding</span><span class="o">:</span> <span class="mi">20</span><span class="kt">px</span>
  <span class="na">padding</span><span class="o">:</span> <span class="nv">$padding</span>
  <span class="na">width</span><span class="o">:</span> <span class="nv">$content-width</span> <span class="o">+</span> <span class="nv">$sidebar-width</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">*</span> <span class="nv">$padding</span>

  <span class="nc">.sidebar</span>
    <span class="na">width</span><span class="o">:</span> <span class="nv">$sidebar-width</span>
    <span class="na">background-color</span><span class="o">:</span> <span class="nf">lighten</span><span class="p">(</span><span class="nv">$base-color</span><span class="o">,</span> <span class="mi">25</span><span class="kt">%</span><span class="p">)</span>

  <span class="nc">.content</span>
    <span class="na">width</span><span class="o">:</span> <span class="nv">$content-width</span>
    <span class="na">color</span><span class="o">:</span> <span class="nv">$base-color</span>
</pre>
</div>


<p>And get back this:</p>

<div class="highlight">
<pre><span class="nc">.container</span> <span class="p">{</span>
  <span class="k">background-color</span><span class="o">:</span> <span class="m">#b99a85</span><span class="p">;</span>
  <span class="k">padding</span><span class="o">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="k">width</span><span class="o">:</span> <span class="m">610px</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.container</span> <span class="nc">.sidebar</span> <span class="p">{</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">150px</span><span class="p">;</span>
    <span class="k">background-color</span><span class="o">:</span> <span class="m">#795b46</span><span class="p">;</span> <span class="p">}</span>
  <span class="nc">.container</span> <span class="nc">.content</span> <span class="p">{</span>
    <span class="k">width</span><span class="o">:</span> <span class="m">500px</span><span class="p">;</span>
    <span class="k">color</span><span class="o">:</span> <span class="m">#281e17</span><span class="p">;</span> <span class="p">}</span>
</pre>
</div>


<p>The really cool thing about the color functions is that you can base your entire
website off only a few colours, then make everything relative to those. This
site (at time of writing) actually only has two colours specifically defined -
the content font color and the body background. Everything else is relative to
those.</p>

<h3>Compass</h3>

<p><a href="http://compass-style.org/">Compass</a> is a collection of mixins and utilities for sass. It's especially
useful for CSS3 related tasks, since it does all the proprietary browser
prefixes (<code>-O-, -moz-, -webkit-</code>) for you when you do things like <code>+box-radius</code>.</p>

<p>It also comes with <a href="http://compass-style.org/reference/blueprint/">Blueprint</a>, which gives you a great starting point to have
all the default styles for things (margins, typography, resets) look nice out of
the box.</p>

<h3>Pygments</h3>

<p><a href="http://pygments.org/">Pygments</a> is a syntax highlighter which produces HTML output which can then
be styled with CSS. Github uses a wrapper around it called <a href="https://github.com/github/albino">Albino</a> to do all
the syntax highlighting you see on the site, and it's what I'm using to make
pygments work in Jekyll.</p>

<p>I'm actually using a custom Jekyll plugin to deal with all of this because I
didn't want to have to stick liquid tags in my posts. In retrospect, this was
probably really unnecessary, but it's done now.</p>

<p>You can see the plugin here: <a href="https://github.com/phleet/blog/blob/master/_plugins/markdown.rb">markdown.rb</a></p>

<h3>Google Web Fonts</h3>

<p><a href="http://www.google.com/webfonts">Google Web Fonts</a> let you use a number of beautiful fonts that may not be
available on your visitor's machine on your websites. I'm currently using it for
my logo, sidebar and headers.</p>

<p>Using it is beautifully simple. All you have to do is drop a link tag in the
head like the one I'm using:</p>

<div class="highlight">
<pre><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">'http://fonts.googleapis.com/css?family=Questrial|Sansita+One'</span> <span class="na">rel=</span><span class="s">'stylesheet'</span> <span class="na">type=</span><span class="s">'text/css'</span><span class="nt">&gt;</span>
</pre>
</div>


<p>And then use it like normal in a CSS rule, like so:</p>

<div class="highlight">
<pre><span class="nt">font-family</span><span class="o">:</span> <span class="nt">Questrial</span><span class="o">,</span> <span class="s2">"Helvetica Neue"</span><span class="o">,</span> <span class="nt">Arial</span><span class="o">,</span> <span class="nt">Helvetica</span><span class="o">,</span> <span class="nt">sans-serif</span>
</pre>
</div>


<h3>Nginx</h3>

<p>Since I had to set up my own web server to run this, I decided I'd try messing
around with <a href="http://nginx.net/">nginx</a> since it looks much nicer to configure than apache. For
the longest time, I thought it was pronounced "en-jinx". The actual
pronounciation, "engine-ex" made a lot more sense once I heard it.</p>

<p>Setting up this server was extremely simple. Since I'm only serving static
files, all I really needed was the following:</p>

<div class="highlight">
<pre><span class="c1"># Redirect any subdomain to the main domain</span>
<span class="k">server</span> <span class="p">{</span>
  <span class="kn">server_name</span> <span class="s">*.jamie-wong.com</span><span class="p">;</span>
  <span class="kn">rewrite</span> <span class="s">^</span> <span class="s">http://jamie-wong.com</span><span class="nv">$request_uri?</span> <span class="s">permanent</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
  <span class="kn">listen</span> <span class="mi">80</span> <span class="s">default</span><span class="p">;</span>
  <span class="kn">server_name</span> <span class="s">jamie-wong.com</span><span class="p">;</span>
  <span class="kn">server_name_in_redirect</span> <span class="no">off</span><span class="p">;</span>

  <span class="kn">access_log</span> <span class="s">/var/log/nginx/jamie-wong.com.log</span><span class="p">;</span>

  <span class="kn">index</span> <span class="s">index.html</span> <span class="s">index.php</span><span class="p">;</span>

  <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri/</span> <span class="s">/404/</span> <span class="p">=</span><span class="mi">404</span><span class="p">;</span>

  <span class="c1"># If it's in any of these folders I migrated from</span>
  <span class="c1"># my shared hosting on dreamhost, load it directly</span>
  <span class="kn">location</span> <span class="p">~</span> <span class="sr">^/(experiments|asciiconvert|life|Jobmine-Improved|V10|1yr)/</span> <span class="p">{</span>
    <span class="kn">root</span> <span class="s">/var/www/jamie-wong.com/</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="c1"># Otherwise, it's probably a blog page, so load it</span>
  <span class="c1"># from Jekyll's generated _site directory</span>
  <span class="kn">location</span> <span class="p">~</span> <span class="sr">/</span> <span class="p">{</span>
    <span class="kn">root</span> <span class="s">/var/www/jamie-wong.com/blog/_site/</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="kn">error_page</span>  <span class="mi">404</span>  <span class="s">/404/</span><span class="p">;</span>
<span class="p">}</span>
</pre>
</div>


<p>This got a lot longer than I expected it to. Time for sleep - will proofread
tomorrow.</p>
</body></html>

</div>

<div class="related post-list">
  <h2>Related Posts</h2>
  <ul class="post-list-ul">
    
      <li>
        <a href="/2011/06/25/complex-asynchronous-queries-in-javascript/">Complex Asynchronous Queries in JavaScript</a>
        <span class='date'>25 June 2011</span>
      </li>
    
      <li>
        <a href="/2011/01/12/hacker-cup-qualification-round-solutions/">Hacker Cup Qualification Round - Solutions</a>
        <span class='date'>12 January 2011</span>
      </li>
    
      <li>
        <a href="/2010/11/17/mechanize-and-uwace-downloader/">Mechanize and UWAce Downloader</a>
        <span class='date'>17 November 2010</span>
      </li>
    
      <li>
        <a href="/2010/10/16/dfas-and-graphviz-dot/">DFAs and Graphviz DOT</a>
        <span class='date'>16 October 2010</span>
      </li>
    
      <li>
        <a href="/2010/09/30/make-your-life-easier-with-gnu-make/">Make your life easier with GNU Make.</a>
        <span class='date'>30 September 2010</span>
      </li>
    
  </ul>
</div>


</div>

        </div>
      </div>
    </div>

    
    <!-- google analytics async -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(["_setAccount", "UA-11869199-1"]);
      _gaq.push(["_trackPageview"]);
      (function() {
        var ga = document.createElement("script"); ga.type = "text/javascript"; ga.async = true;
        ga.src = ("https:" == document.location.protocol ? "https://ssl" : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    
  </body>
</html>
